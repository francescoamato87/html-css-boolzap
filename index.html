<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzapp</title>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Roboto&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
<!-- Vue JS -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.9.6/dayjs.min.js">

    <link rel="stylesheet" href="style.css">
  </head>
  <body>

<div id ="app" class="container">

  <aside class="side">

    <div class="side-utente">
      <img class="avatar" src=" ./img/avatar_fra.jpg " alt="">
      <p>Francesco</p>
      <span class="side-utente-icons">
        <i class="fas fa-circle-notch"></i>
        <i class="fas fa-comment-alt"></i>
        <i class="fas fa-video"></i>
      </span>
    </div>

    <div class="container-side-notifiche">
      <div class="container-bell">
        <i class="fas fa-bell-slash"></i>
      </div>
      <div class="side-notifiche">
        <p>Ricevi notifiche di nuovi messaggi</p>
        <a href="#">Attiva notifiche desktop</a>
      </div>
    </div>

    <div class="input-search">
      <i class="fas fa-search"></i>
      <input class="search"
      placeholder="Cerca o inizia una nuova chat"
      >
    </div>

<!-- ............................................................... -->

    <div class="contacts">

      <div v-for="(contact, index) in contacts"
     :class= " ['contact', index === activeContact ? 'active' : '' ] "
      @click="setActiveContact(index)"
      >
          <div class="user">
            <img class="avatar"
            :src= " `./img/avatar${contact.avatar}.jpg ` "
            :alt= "contact.name"
            >
            <h3>{{ contact.name }}</h3>
          </div>

      </div>
    </div>

</aside>

<!-- .......................................................... -->

  <main class= "content">



    <header class="profile">
      <img class = "avatar"
      :src=" `./img/avatar${contacts[activeContact].avatar}.jpg ` "
      :alt="contacts[activeContact].name">

        <h3>
          <span class="header-contact-name">
            {{ contacts[activeContact].name }}
          </span>
          <div class="time">
            Ultimo accesso oggi 15.40
          </div>
        </h3>

        <div class="profile-icons">
          <i class="fas fa-search"></i>
          <i class="fas fa-paperclip"></i>
          <i class="fas fa-bars"></i>
        </div>

    </header>

<!-- ............................................................  -->

    <div class="messages-container">

      <div v-for = "message in contacts[activeContact].messages"
        :class="[ 'message', message.status ] " >

        <span class="message-text">{{ message.message }}</span>
        <span class= "message-time">{{ message.date }}</span>
      </div>

      <!-- <div class="message received">
        <span class="message-text"></span>
        <span class= "message-time"></span>
      </div> -->

    </div>

<!-- ................................................................ -->

    <div class ="cont-footer">

      <i class="far fa-smile"></i>

      <input
      class= "write-conversation"
      type= "text"
      placeholder= "Scrivi un messaggio..."
      v-model="newMessage"
      @keyup.enter="addNewMessage(activeContact)"
      >

      <i class="fas fa-microphone-alt"></i>

    </div>

  </main>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.9.6/dayjs.min.js" ></script>

<script src="main.js"></script>
  </body>
</html>
